// Generated by CoffeeScript 1.6.1
(function() {

  angular.module('foodmatrix.controllers').controller('ListFormCtrl', function($scope, $routeParams, $location, Lists) {
    if ($routeParams.listId === 'new') {
      $scope.list = {
        attributes: [
          {
            name: ""
          }
        ]
      };
      $scope.title = "New List";
    } else {
      $scope.list = Lists.get($routeParams.listId);
      $scope.title = $scope.list.name;
    }
    $scope.rightButtons = [
      {
        type: 'button-clear ion-plus',
        content: "Add",
        tap: function() {
          return alert('add list');
        }
      }
    ];
    $scope.addAttribute = function() {
      return $scope.list.attributes.push({});
    };
    $scope.removeAttribute = function(attr) {
      var index;
      index = $scope.list.attributes.indexOf(attr);
      return $scope.list.attributes.splice(index, 1);
    };
    return $scope.save = function() {
      Lists.save($scope.list);
      return $location.path("#/lists/" + $scope.list.id);
    };
  });

}).call(this);
